(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6326],{82171:function(e,t,r){Promise.resolve().then(r.bind(r,7015))},7015:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return u}});var s=r(57437),a=r(39343),n=r(2265),l=r(16463),o=r(38472),i=r(44785),c=r(95956);r(44193);var d=r(87138),x=r(93716);function u(){let{register:e,handleSubmit:t}=(0,a.cI)(),[r,u]=(0,n.useState)(!1),m=(0,l.useRouter)(),h=async e=>{var t,r;try{u(!0);let t=await o.Z.post("".concat("http://localhost:3000","/auth/login"),e);if(console.log(t,"hello"),201===t.status){c.Am.success("Login successful!");let e=t.data.access_token;i.Z.set("token",e,{expires:1,path:"/"});let r=JSON.parse(atob(e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/")));console.log(r);let s=r.sub,a=await o.Z.get("".concat("http://localhost:3000","/user/").concat(s),{headers:{Authorization:"Bearer ".concat(e)}});console.log(a,"userResponse"),200===a.status&&(a.data.firstLogin?m.push("/account"):m.push("/home"))}else c.Am.error(t.data.message||"Login failed")}catch(e){console.error("Error during login:",e),c.Am.error((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||"An error occurred during login")}finally{u(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen flex flex-col md:flex-row w-screen",children:[(0,s.jsx)(c.Ix,{}),(0,s.jsxs)("div",{className:"flex-1 flex-col md:flex hidden bg-blue-600 text-white px-8 dark:bg-blue-700 dark:text-white",children:[(0,s.jsx)("div",{className:"flex justify-start items-center py-2",children:(0,s.jsxs)(d.default,{href:"/",className:"cursor-pointer flex items-center",children:[(0,s.jsx)(x.Z,{}),(0,s.jsx)("h1",{className:"text-xl font-bold ms-2 font-mono",children:"GoalFit"})]})}),(0,s.jsxs)("div",{className:"max-w-md text-center md:text-left my-auto",children:[(0,s.jsx)("p",{className:"text-xl mb-4",children:'"La motivation est ce qui vous fait commencer. L\'habitude est ce qui vous fait continuer..."'}),(0,s.jsx)("p",{children:"Jim Ryun"})]})]}),(0,s.jsxs)("div",{className:"flex-1 flex md:flex-row flex-col items-center justify-center md:px-8 px-4 dark:bg-gray-900 dark:text-gray-100",children:[(0,s.jsx)("div",{className:"md:hidden flex justify-start items-center py-2 w-full",children:(0,s.jsxs)(d.default,{href:"/",className:"cursor-pointer flex items-center",children:[(0,s.jsx)(x.Z,{color:"#3b82f6"}),(0,s.jsx)("h1",{className:"text-xl font-bold ms-2 font-mono text-blue-600 dark:text-blue-400",children:"GoalFit"})]})}),(0,s.jsxs)("div",{className:"w-full max-w-sm my-auto",children:[(0,s.jsxs)("div",{className:"md:text-start text-center",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold dark:text-gray-100",children:"Connexion"}),(0,s.jsxs)("div",{className:"text-gray-500 text-sm mb-5 dark:text-gray-400",children:["Vous n'avez pas de compte ?"," ",(0,s.jsx)(d.default,{href:"/register",className:"underline dark:text-gray-300",children:"S'inscrire"}),"."]})]}),(0,s.jsxs)("form",{className:"space-y-4",onSubmit:t(h),children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"sr-only",children:"Email"}),(0,s.jsx)("input",{type:"email",id:"email",className:"w-full p-3 border rounded-md dark:bg-gray-800 dark:text-gray-100 dark:border-gray-700",placeholder:"nom@example.com",required:!0,"aria-label":"Email",...e("email")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Mot de passe"}),(0,s.jsx)("input",{type:"password",id:"password",className:"w-full p-3 border rounded-md dark:bg-gray-800 dark:text-gray-100 dark:border-gray-700",placeholder:"Mot de passe",required:!0,"aria-label":"Mot de passe",...e("password")})]}),(0,s.jsx)("div",{children:(0,s.jsx)("button",{type:"submit",className:"w-full p-3 text-white rounded-md ".concat(r?"bg-gray-500":"bg-blue-600 dark:bg-blue-500 dark:hover:bg-blue-400"),disabled:r,children:r?"Connexion en cours...":"Se connecter"})}),(0,s.jsx)("div",{className:"text-right mt-2",children:(0,s.jsx)(d.default,{href:"/request-password-reset",className:"text-sm text-blue-600 underline dark:text-blue-400",children:"Mot de passe oubli\xe9 ?"})}),(0,s.jsxs)("div",{className:"relative flex items-center",children:[(0,s.jsx)("div",{className:"flex-grow border-t border-gray-300 dark:border-gray-600"}),(0,s.jsx)("span",{className:"mx-4 text-xs text-gray-500 dark:text-gray-400",children:"ou continuez avec"}),(0,s.jsx)("div",{className:"flex-grow border-t border-gray-300 dark:border-gray-600"})]}),(0,s.jsxs)("button",{type:"button",className:"w-full p-3 border rounded-md flex items-center justify-center space-x-2 dark:bg-gray-800 dark:text-gray-100 dark:border-gray-700",onClick:()=>{window.location.href="".concat("http://localhost:3000","/auth/google")},children:[(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",width:"24",height:"24",viewBox:"0 0 48 48",children:[(0,s.jsx)("path",{fill:"#fbc02d",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12 s5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24s8.955,20,20,20 s20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),(0,s.jsx)("path",{fill:"#e53935",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039 l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),(0,s.jsx)("path",{fill:"#4caf50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36 c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),(0,s.jsx)("path",{fill:"#1565c0",d:"M43.611,20.083L43.595,20L42,20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571 c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]}),(0,s.jsx)("span",{children:"Google"})]})]}),(0,s.jsxs)("p",{className:"mt-4 text-center text-gray-500 text-xs dark:text-gray-400",children:["En continuant, vous acceptez nos"," ",(0,s.jsx)("a",{href:"#",className:"underline dark:text-gray-300",children:"Conditions d'utilisation"})," ","et"," ",(0,s.jsx)("a",{href:"#",className:"underline dark:text-gray-300",children:"Politique de confidentialit\xe9"}),"."]})]})]})]})}},93716:function(e,t,r){"use strict";var s=r(57437);t.Z=e=>{let{width:t=48,height:r=48,color:a="#fff"}=e;return(0,s.jsx)("svg",{width:t,height:r,viewBox:"139.0026 92.978 8.8952 5.2799",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsxs)("g",{transform:"matrix(0.004084000363945961, 0, 0, -0.004084000363945961, 137.65083723219735, 99.89470207377371)",fill:a,stroke:"none",children:[(0,s.jsx)("path",{d:"M 2426.048 1679.949 C 2412.048 1672.949 2288 1647 1790 1445 L 885 1079 L 638 1188 L 391 1298 L 361 1252 L 331 1206 L 550 1121 C 746 1044 798 1019 758 1020 C 751 1021 653 984 540 939 L 335 857 L 358 810 L 381 763 L 628 871 C 763 931 879 980 884 980 C 890 980 1307.014 798.237 1823 604 C 2502.406 348.245 2428.527 405.984 2435.673 407.156 C 2444.046 408.529 2439.539 403.752 2436.539 405.752 C 2416.539 423.752 2057 563 2030 565 C 2010 567 1970 579 1940 593 C 1910 606 1859 627 1827 639 C 1745 669 1710 688 1713 702 C 1715 712 1322 893 1093 987 C 1042 1008 1000 1027 1000 1030 C 1000 1033 1102 1080 1228 1134 C 1639 1313 1718 1350 1723 1370 C 1729 1392 1884 1454 2080 1513 C 2099 1518 2258 1585 2433 1662 C 2608 1738 2304.444 1621.575 2310.444 1621.575 C 2323.444 1621.575 2507.138 1690.516 2493.138 1693.516 C 2488.138 1694.516 2440.048 1686.949 2426.048 1679.949 Z M 650 1147 C 793 1084 866 1056 890 1057 C 909 1058 960 1072 1003 1088 C 1045 1105 1305.92 1212.84 1305.92 1208.84 C 1305.92 1204.84 1069 1100 1057 1096 C 1026 1089 980 1052 980 1036 C 980 1015 1029 972 1061 965 C 1077 961 1328.756 844.891 1328.756 839.891 C 1328.756 834.891 1047 956 994 975 C 941 994 891 1010 884 1010 C 871 1010 759 964 521 861 C 426 820 390 811 390 830 C 390 841 409 851 555 910 C 769 997 792 1012 769 1049 C 754 1071 706 1095 525 1166 C 408 1211 386 1225 397 1242 C 404 1255 424 1247 650 1147 Z"}),(0,s.jsx)("path",{d:"M2046 1475 c6 -13 -16 -21 -48 -16 -37 5 -179 -63 -232 -111 -10 -9 -24 -14 -31 -12 -19 8 -82 -72 -107 -135 -26 -68 -36 -210 -18 -279 23 -94 97 -209 126 -198 7 3 30 -9 51 -26 50 -41 134 -77 205 -90 32 -6 58 -15 58 -20 0 -7 25 -9 68 -6 142 10 276 107 348 252 32 66 37 87 42 169 3 70 0 108 -13 153 -46 159 -168 276 -332 319 -77 20 -124 20 -117 0z m86 -56 c296 -63 416 -409 223 -645 -127 -155 -370 -182 -537 -59 -107 79 -163 201 -156 339 9 175 131 320 303 362 65 16 102 17 167 3z"}),(0,s.jsx)("path",{d:"M1982 1241 c-66 -23 -98 -52 -128 -116 -67 -141 23 -298 177 -312 178 -17 300 153 225 313 -28 59 -75 100 -142 120 -59 18 -67 17 -132 -5z m164 -39 c52 -28 104 -114 104 -172 0 -34 -22 -91 -47 -120 -94 -112 -271 -84 -328 52 -22 53 -19 97 11 156 47 95 167 134 260 84z"}),(0,s.jsx)("path",{d:"M1997 1100 c-51 -41 -43 -126 16 -156 64 -34 137 12 137 85 0 76 -92 119 -153 71z m106 -42 c21 -25 21 -37 1 -66 -31 -44 -104 -17 -104 39 0 55 64 72 103 27z"})]})})}},44785:function(e,t,r){"use strict";/*! js-cookie v3.0.5 | MIT */function s(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)e[s]=r[s]}return e}r.d(t,{Z:function(){return a}});var a=function e(t,r){function a(e,a,n){if("undefined"!=typeof document){"number"==typeof(n=s({},r,n)).expires&&(n.expires=new Date(Date.now()+864e5*n.expires)),n.expires&&(n.expires=n.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var o in n)n[o]&&(l+="; "+o,!0!==n[o]&&(l+="="+n[o].split(";")[0]));return document.cookie=e+"="+t.write(a,e)+l}}return Object.create({set:a,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var r=document.cookie?document.cookie.split("; "):[],s={},a=0;a<r.length;a++){var n=r[a].split("="),l=n.slice(1).join("=");try{var o=decodeURIComponent(n[0]);if(s[o]=t.read(l,o),e===o)break}catch(e){}}return e?s[e]:s}},remove:function(e,t){a(e,"",s({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,s({},this.attributes,t))},withConverter:function(t){return e(s({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}},function(e){e.O(0,[7143,251,9236,7457,7138,8762,2971,7023,1744],function(){return e(e.s=82171)}),_N_E=e.O()}]);